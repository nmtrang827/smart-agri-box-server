<html>

<head>
  <title>Express</title>
  <link rel="stylesheet" href="/stylesheets/style.css">
  <style>
    #deviceStatus {
      width: 10px;
      height: 10px;
      border-radius: 50%;
      background-color: red;
    }
  </style>
</head>

<body>
  <h1>Express</h1>
  <p>Welcome to Express</p>

  <div id="deviceStatus">

  </div>
  <script src="/socket.io/socket.io.js"></script>
  <script>
    var socket = io();
    socket.on('connect', function () {
      console.log('connected');
    });

    socket.on("/web/control", (data) => {
      console.log(data);
      if (data.deviceID == "esp32") {
        deviceStatus.style.backgroundColor = "green";
      }
    })
    socket.on("/web/measure", (data) => {
      console.log(data);
      if (data.deviceID == "esp32") {
        deviceStatus.style.backgroundColor = "green";
      }
    })
    socket.on("message", (data) => {
      console.log(data);
      if (data.deviceID == "esp32") {
        deviceStatus.style.backgroundColor = "green";
      }
    })
    socket.on("deviceStatus", (data) => {
      deviceStatus.style.backgroundColor = "red";
    })
  </script>
</body>

</html>